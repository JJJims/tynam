{"remainingRequest":"/Users/ydj/Desktop/TYNAMManagement-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ydj/Desktop/TYNAMManagement-master/src/pages/HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ydj/Desktop/TYNAMManagement-master/src/pages/HomePage.vue","mtime":1567249327591},{"path":"/Users/ydj/Desktop/TYNAMManagement-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ydj/Desktop/TYNAMManagement-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ydj/Desktop/TYNAMManagement-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ydj/Desktop/TYNAMManagement-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '../Util';\n\nexport default {\n    name: 'HomePage',\n    data: function(){\n        return {\n            studentSource: [\n                {id: 1, code: '30001', name: '段瑞琦', sex: '男', grader: '三年级二班'},\n                {id: 2, code: '40002', name: '韩子萱', sex: '女', grader: '四年级二班'},\n                {id: 3, code: '20101', name: '严寒', sex: '男', grader: '二年级一班'},\n                {id: 4, code: '60012', name: '钱小龙', sex: '男', grader: '六年级六班'}\n            ],\n            dataList: [],\n            searchInput: '',\n            currentRow: 0,\n            currentPage: 'home',\n            showAddDialog: false,\n            showDeleteDialog: false,\n            isEditor: false,\n            studentInfo: {\n                code: '',\n                name: '',\n                sex: '',\n                grader: ''\n            }\n        }\n    },\n    computed: {\n        currentData: function () {\n            if (!this.dataList || this.dataList <= 0){\n                return undefined;\n            }\n            var currentRow = this.currentRow;\n            var currentData = this.dataList.find(function(item, index){\n                return index === currentRow;\n            });\n            return currentData;\n        },\n        nextId: function(){\n            if (this.studentSource && this.studentSource.length > 0){\n                return this.studentSource[this.studentSource.length - 1].id + 1;\n            }\n            return 0;\n        }\n    },\n    methods: {\n        search: function(){\n            this.refreshDataSource();\n        },\n        refreshDataSource: function(){\n            var filter = this.searchInput.toUpperCase();\n            var result = this.studentSource.filter(function(data){\n                if (data.code.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.name.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.sex.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.grader.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                }\n                return false;\n            });\n            this.dataList = result;\n        },\n        rowClick: function(index){\n            this.currentRow = index;\n        },\n        handleDelete: function(){\n            this.showDeleteDialog = true;\n        },\n        handleEditor: function(){\n            var currentData = this.currentData;\n            if (currentData){\n                this.studentInfo.code = currentData.code;\n                this.studentInfo.name = currentData.name;\n                this.studentInfo.sex = currentData.sex;\n                this.studentInfo.grader = currentData.grader;\n\n                this.showAddDialog = true;\n                this.isEditor = true;\n            }\n        },\n        handleAdd: function(){\n            this.showAddDialog = true;\n            this.isEditor = false;\n        },\n        handleAddDialogSave: function(){\n            var validateResult = this.validate();\n            if (!validateResult){\n                return false;\n            }\n\n            if (this.isEditor){\n                var currentData = this.currentData;\n                var oldItem = this.studentSource.find(function(item){\n                    return item.id === currentData.id;\n                });\n                if (oldItem){\n                    oldItem.code = this.studentInfo.code;\n                    oldItem.name = this.studentInfo.name,\n                    oldItem.sex = this.studentInfo.sex;\n                    oldItem.grader = this.studentInfo.grader;\n                }\n            } else {\n                var data = {\n                    code: this.studentInfo.code,\n                    name: this.studentInfo.name,\n                    sex: this.studentInfo.sex,\n                    grader: this.studentInfo.grader\n                };\n                data.id = this.nextId;\n                this.studentSource.push(data);\n            }\n            this.handleAddDialogCancel();\n            this.refreshDataSource();\n        },\n        handleAddDialogCancel: function(){\n            this.studentInfo.code = '';\n            this.studentInfo.name = '';\n            this.studentInfo.sex = '';\n            this.studentInfo.grader = '';\n            this.showAddDialog = false;\n        },\n        handleDeleteDialogSave: function(){\n            if (this.currentData){\n                var dataId = this.currentData.id;\n                var result = this.studentSource.filter(function(item){\n                    return item.id !== dataId;\n                });\n                this.studentSource = result;\n                this.showDeleteDialog = false;\n                this.refreshDataSource();\n            }\n        },\n        handleDeleteDialogCancel: function(){\n            this.showDeleteDialog = false;\n        },\n        pageSelect: function(page){\n            this.currentPage = page;\n        },\n        validate: function(){\n            if (!this.studentInfo.name || !this.studentInfo.code){\n                alert(\"姓名和学号不能为空\");\n                return false;\n            }\n            return true;\n        },\n        logOut: function(){\n            util.clearCookie('loginSatus');\n            this.$router.push(\"/\");\n        }\n    },\n    created(){\n        this.refreshDataSource();\n    }\n}\n",{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div class=\"HomePage\">\n        <table cellspacing=0>\n            <tr id=\"title\">\n                <td colspan=\"2\">\n                    <h1>TYNAM后台管理系统</h1>\n                </td>\n            </tr>\n\n            <tr>\n                <!-- menu start -->\n                <td id=\"menu\">\n                    <div v-on:click=\"pageSelect('home')\" v-bind:class=\"[this.currentPage === 'home' ? 'active' : '']\">\n                        <h4>主&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;页</h4>\n                    </div>\n                    <div v-on:click=\"pageSelect('about')\" v-bind:class=\"[this.currentPage === 'about' ? 'active' : '']\">\n                        <h4>关&nbsp;于&nbsp;我&nbsp;们</h4>\n                    </div>\n                    <div v-on:click=\"logOut\">\n                        <h4>退&nbsp;出&nbsp;登&nbsp;录</h4>\n                    </div>\n                </td>\n                <!-- menu end -->\n                <!-- data start -->\n                <td id=\"container\" v-show=\"currentPage === 'home'\">\n                    <h1>主页</h1>\n                    <div id=\"searchArea\">\n                        <input type=\"text\" id=\"search-input\" v-model=\"searchInput\">\n                        <input type=\"button\" class=\"btn search\" value=\"检索\" v-on:click=\"search\">\n                    </div>\n                    <div id=\"btnArea\">\n                        <button class=\"btn\" id=\"del\" v-on:click=\"handleDelete\">删除</button>\n                        <button class=\"btn\" id=\"edt\" v-on:click=\"handleEditor\">编辑</button>\n                        <button class=\"btn\" id=\"add\" v-on:click=\"handleAdd\">添加</button>\n                    </div>\n                    <div id=\"dataArea\">\n                        <table cellspacing=0>\n                            <tr class=\"header\">\n                                <td class=\"code\">学 号</td>\n                                <td class=\"name\">姓 名</td>\n                                <td class=\"sex\">性 别</td>\n                                <td class=\"grader\">年 级</td>\n                            </tr>\n                            <tr v-for=\"(data, index) in dataList\" :key=\"index\" v-on:click=\"rowClick(index)\" v-bind:class=\"[currentRow === index ? 'active' : '']\">\n                                <td class=\"code\">{{data.code}}</td>\n                                <td class=\"name\">{{data.name}}</td>\n                                <td class=\"sex\">{{data.sex}}</td>\n                                <td class=\"grader\">{{data.grader}}</td>\n                            </tr>\n                        </table>\n\n                        <div id=\"del-dialog\" v-show=\"showDeleteDialog\">\n                            <div class=\"header\">删除</div>\n                            <div class=\"text\">确定要删除\"{{currentData ? currentData.name : ''}}\"吗？</div>\n                            <button id=\"confirm\" v-on:click=\"handleDeleteDialogSave\">确定</button>\n                            <button id=\"cancel\" v-on:click=\"handleDeleteDialogCancel\">取消</button>\n                        </div>\n                        <div id=\"add-dialog\" v-show=\"showAddDialog\">\n                            <div class=\"header\">添加</div>\n                            <div>学号<input type=\"text\" class=\"code\" maxlength=\"8\" required v-model=\"studentInfo.code\"></div>\n                            <div>姓名<input type=\"text\" class=\"name\" max=\"8\" required v-model=\"studentInfo.name\"></div>\n                            <div>性别<input type=\"text\" class=\"sex\" maxlength=\"1\" v-model=\"studentInfo.sex\"></div>\n                            <div>年级<input type=\"text\" class=\"grader\" maxlength=\"10\" v-model=\"studentInfo.grader\"></div>\n                            <button id=\"confirm\" v-on:click=\"handleAddDialogSave\">确定</button>\n                            <button id=\"cancel\" v-on:click=\"handleAddDialogCancel\">取消</button>\n                        </div>\n                    </div>\n                </td>\n                <!-- data end -->\n                <td id=\"about\" v-show=\"currentPage === 'about'\">\n                    <h1>关于我们</h1>\n                    <div class=\"container\">\n                        <P>TYNAM后台管理系统 用于学习。\n                        </P>\n                    </div>\n                </td>\n            </tr>\n\n            <tr>\n                <td colspan=\"2\" id=\"coperight\">\n                    Copyright © 2019 Tynam</td>\n            </tr>\n        </table>\n    </div>\n</template>\n\n<script>\nimport util from '../Util';\n\nexport default {\n    name: 'HomePage',\n    data: function(){\n        return {\n            studentSource: [\n                {id: 1, code: '30001', name: '段瑞琦', sex: '男', grader: '三年级二班'},\n                {id: 2, code: '40002', name: '韩子萱', sex: '女', grader: '四年级二班'},\n                {id: 3, code: '20101', name: '严寒', sex: '男', grader: '二年级一班'},\n                {id: 4, code: '60012', name: '钱小龙', sex: '男', grader: '六年级六班'}\n            ],\n            dataList: [],\n            searchInput: '',\n            currentRow: 0,\n            currentPage: 'home',\n            showAddDialog: false,\n            showDeleteDialog: false,\n            isEditor: false,\n            studentInfo: {\n                code: '',\n                name: '',\n                sex: '',\n                grader: ''\n            }\n        }\n    },\n    computed: {\n        currentData: function () {\n            if (!this.dataList || this.dataList <= 0){\n                return undefined;\n            }\n            var currentRow = this.currentRow;\n            var currentData = this.dataList.find(function(item, index){\n                return index === currentRow;\n            });\n            return currentData;\n        },\n        nextId: function(){\n            if (this.studentSource && this.studentSource.length > 0){\n                return this.studentSource[this.studentSource.length - 1].id + 1;\n            }\n            return 0;\n        }\n    },\n    methods: {\n        search: function(){\n            this.refreshDataSource();\n        },\n        refreshDataSource: function(){\n            var filter = this.searchInput.toUpperCase();\n            var result = this.studentSource.filter(function(data){\n                if (data.code.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.name.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.sex.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                } else if (data.grader.toUpperCase().indexOf(filter) > -1){\n                    return true;\n                }\n                return false;\n            });\n            this.dataList = result;\n        },\n        rowClick: function(index){\n            this.currentRow = index;\n        },\n        handleDelete: function(){\n            this.showDeleteDialog = true;\n        },\n        handleEditor: function(){\n            var currentData = this.currentData;\n            if (currentData){\n                this.studentInfo.code = currentData.code;\n                this.studentInfo.name = currentData.name;\n                this.studentInfo.sex = currentData.sex;\n                this.studentInfo.grader = currentData.grader;\n\n                this.showAddDialog = true;\n                this.isEditor = true;\n            }\n        },\n        handleAdd: function(){\n            this.showAddDialog = true;\n            this.isEditor = false;\n        },\n        handleAddDialogSave: function(){\n            var validateResult = this.validate();\n            if (!validateResult){\n                return false;\n            }\n\n            if (this.isEditor){\n                var currentData = this.currentData;\n                var oldItem = this.studentSource.find(function(item){\n                    return item.id === currentData.id;\n                });\n                if (oldItem){\n                    oldItem.code = this.studentInfo.code;\n                    oldItem.name = this.studentInfo.name,\n                    oldItem.sex = this.studentInfo.sex;\n                    oldItem.grader = this.studentInfo.grader;\n                }\n            } else {\n                var data = {\n                    code: this.studentInfo.code,\n                    name: this.studentInfo.name,\n                    sex: this.studentInfo.sex,\n                    grader: this.studentInfo.grader\n                };\n                data.id = this.nextId;\n                this.studentSource.push(data);\n            }\n            this.handleAddDialogCancel();\n            this.refreshDataSource();\n        },\n        handleAddDialogCancel: function(){\n            this.studentInfo.code = '';\n            this.studentInfo.name = '';\n            this.studentInfo.sex = '';\n            this.studentInfo.grader = '';\n            this.showAddDialog = false;\n        },\n        handleDeleteDialogSave: function(){\n            if (this.currentData){\n                var dataId = this.currentData.id;\n                var result = this.studentSource.filter(function(item){\n                    return item.id !== dataId;\n                });\n                this.studentSource = result;\n                this.showDeleteDialog = false;\n                this.refreshDataSource();\n            }\n        },\n        handleDeleteDialogCancel: function(){\n            this.showDeleteDialog = false;\n        },\n        pageSelect: function(page){\n            this.currentPage = page;\n        },\n        validate: function(){\n            if (!this.studentInfo.name || !this.studentInfo.code){\n                alert(\"姓名和学号不能为空\");\n                return false;\n            }\n            return true;\n        },\n        logOut: function(){\n            util.clearCookie('loginSatus');\n            this.$router.push(\"/\");\n        }\n    },\n    created(){\n        this.refreshDataSource();\n    }\n}\n</script>>\n\n<style scoped>\n* {\n    margin: 0;\n    padding: 0;\n}\n\ntable {\n    width: 80%;\n    min-width: 800px;\n    max-width: 1200px;\n    margin: 0 auto;\n    border: 0;\n    height: 98%;\n    min-height: 800px;\n    background-color:#eee;\n}\n\n/* title */\n#title {\n    background-color:#000;\n    color: #eee;\n    height: 70px;\n}\n#title h1 {\n    margin-left: 40px; \n}\n\n/* menu */\n#menu {\n    background-color: #3ca7ed;\n    width: 20%;\n    vertical-align: top;\n    height: 70%;\n    color: #eee;\n}\n\n#menu div.active {\n    background-color: #eee;\n    color: #333;\n}\n\n#menu div {\n    margin-top: 5px;\n    margin-left: 5px;\n    padding: 20px;\n    cursor: pointer;\n}\n\n/* container */\n#container,\n#about {\n    vertical-align: top;\n    padding: 20px;\n}\n\n/* about */\n#container h1,\n#about h1 {\n    margin: 10px 10px;\n    color: rgb(34, 33, 33);\n}\n\n/* 检索 */\n#searchArea,\n#about .container {\n    margin-left: 10px;\n    height: 50px;\n    font-size: 16px;\n    float: left;\n}\n\n#searchArea input {\n    height: 25px;\n    margin-left: 10px;\n    padding: 0 4px;\n}\n\n/* btn */\n#btnArea {\n    height: 50px;\n    margin: 50px 5px -10px 50px;  \n}\n\n#btnArea .btn,\n#searchArea .btn {\n    height: 30px;\n}\n\n#btnArea .btn,\n#searchArea .btn {\n    width: 80px;\n    height: 30px;\n    background: #3ca7ed;\n    color: aliceblue;\n    font-size: 16px;\n    outline: none;\n    border-style: none;\n    float: right;\n    margin: 0 10px;\n}\n\n#btnArea .btn:hover,\n#searchArea .btn:hover,\n#del-dialog button:hover,\n#add-dialog button:hover {\n    background: #0a84d4;\n}\n\n/* data */\n#dataArea table {\n    width: 98%;\n    border-collapse: collapse;\n    min-height: auto;\n    overflow: scroll;\n}\n\n#dataArea table .code,\n#dataArea table .name,\n#dataArea table .sex,\n#dataArea table .grader{\n    width: 25%;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n}\n\n#dataArea table tr:nth-child(even) {\n    background: aliceblue;\n}\n\n#dataArea table tr:nth-child(odd) {\n    background: rgba(230, 239, 249);\n}\n\n#dataArea table tr.active {\n    background: rgb(170, 207, 247);\n}\n\n#dataArea .header {\n    background: #3ca7ed !important;\n    color: aliceblue;\n}\n\n/* dialog */\n#del-dialog,\n#add-dialog {\n    margin: 50px 15%;\n    width: 400px;\n    height: 150px;\n    position: absolute;\n    top: 150px;\n    background: #fff;\n    text-align: center;\n    line-height: 65px;\n    font-size: 18px;\n}\n\n#add-dialog {\n    height: 270px;\n}\n#add-dialog div {\n    height: 40px;\n}\n\n#add-dialog div input {\n    width: 200px;\n    padding: 3px 5px;\n    margin: 5px 15px;\n}\n\n#del-dialog .header,\n#add-dialog .header {\n    background: #3ca7ed;\n    color: aliceblue;\n    height: 35px;\n    text-align: left;\n    padding-left: 10px;\n    line-height: 35px;\n}\n\n#del-dialog button,\n#add-dialog button {\n    display: inline-block;\n    width: 50px;\n    height: 30px;\n    background: #3ca7ed;\n    outline: none;\n    color: #f9f9f9;\n    border-style: none;\n    position: absolute;\n    bottom: 15px;\n    right: 25px;\n}\n\n#add-dialog #confirm,\n#del-dialog #confirm {\n    right: 85px;\n}\n\n/* coperight */\n#coperight {\n    background: #fff;\n    color: #333;\n    text-align: center;\n    height: 5%;\n}\n</style>"]}]}